<?phpApp::uses('AppController', 'Controller');class EventsController extends AppController {        public $uses = array();    public function beforeFilter() {        parent::beforeFilter();        $this->Auth->allow('hello');    }    public function admin_index() {            }    public function admin_ajexData() {        $this->autoRender = false;                   $outputData = $this->Event->find('all');                $outputArray = array();        if(!empty($outputData)){            foreach($outputData as $outputRow){                $row = array();                $row[] = $outputRow['Event']['id'];                   $row[] = $outputRow['Event']['title'];                   $row[] = $outputRow['Event']['event_date'];                   $row[] = $outputRow['Event']['type'];                   $row[] = '<span class="btn btn-sm btn-default"><i class="fa fa-edit"><i> EDIT</span>';                                $outputArray['data'][] = $row;            }        }                echo json_encode($outputArray);    }        public function admin_add() {        $request = $this->request;        if (($request->is("post") || $request->is("put"))) {            $data = $this->request->data;            $data['Event']['event_date'] = date("Y-m-d H:i:s",  strtotime($data['Event']['event_date']));            $data['Event']['modified'] = date("Y-m-d H:i:s");            //prd($data);            if ($this->Event->save($data)) {                $this->Session->setFlash(__('event add successfully.'), 'flash_success');                $this->redirect(array('admin' => true, 'controller' => 'events', 'action' => 'index'));            } else {                $this->Session->setFlash(__('Email content could not be update.'), 'flash_error');            }        }    }        public function index(){        $outputData = $this->Event->find('all',array(            'conditions' => array('Event.status' => 1),        ));                $outputArray = array();        if(!empty($outputData)){            foreach($outputData as $outputRow){                $row = array();                $row['title'] = $outputRow['Event']['title'];                   $row['start'] = $outputRow['Event']['event_date'];                   $row['url'] = Router::url(array('controller' => 'events', 'action' => 'view', $outputRow['Event']['id']), true);                                   $outputArray[] = $row;            }        }                $this->set('calender_event' , json_encode($outputArray) );    }        }